<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <main>
        <form action="">
            <label for="">email:
                <input type="email" name="" id="" name="email" required>
            </label>
            <label for="">
                <input type="password" name="" id="" name="pass">
            </label>
            <button>Login</button>
        </form>
    </main>
    <script>
        const baseURL = 'http://localhost:8080/';
        const doGet = async (url) => {
            const response = await fetch(url, {
              method: 'GET',
            });
            return response;
          }
          
          const doPost = async (url, data) => {
            const response = await fetch(url, {
              method: 'POST',
              body: JSON.stringify(data),
              headers: {
                'Content-Type': 'application/json'
                // 'Content-Type': 'application/x-www-form-urlencoded',
              }
            });
            return response;
          }
          const getFormData = () => {
            const inputs = document.querySelectorAll('form input');
            return {
                id: 0,
                name: "",
                email: inputs[0].value,
                pass: inputs[1].value,
            }
          }
        document.querySelector('form').addEventListener('submit', (e) => {
            e.preventDefault();
            console.log(getFormData());
            doPost(baseURL + 'login', getFormData()).then((response) => {
                console.log(response.status);
                console.log(response.body.data);
            });
        });
    </script>
</body>
</html>